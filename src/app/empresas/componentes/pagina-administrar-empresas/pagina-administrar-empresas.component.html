<div class="d-flex flex-column flex-gap-30 p-4">
    <div class="d-flex justify-content-end">
      <button type="button" class="boton primario relleno" (click)="abrirModalCrearEmpresa()">
        <img src="assets/img/+.svg" class="me-1" /> Crear entidad
      </button>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="card w-100">
          <div class="card-header fw-bold fs-14px">
            Lista de entidades cliente
          </div>
          <div class="card-body">
            <div class="contenedor">
              <div class="barraBusqueda">
                <input type="text" class="form-control" formControlName="busqueda" placeholder="Buscar...">
              </div>
              <div>
                <!-- <button class="totales" disabled>
                  <span class="fw-semibold fs-14px">Total:</span>
                  <span class="fs-12px fw-semibold"style="margin-left: 5px">100</span>
                </button> -->
              </div>
              <div class="d-flex justify-self-end flex-gap-5 ms-auto mb-3">
                <span class="fs-12px d-flex align-items-center" id="registrosTotales">Registros por página</span>
                <span class="texto-gris fs-12px fw-bold align-items-center">
                  <select #porPagina class="form-select sm" name="" id="">
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                  </select>
                </span>
              </div>
            </div>
            <div class="container-table d-flex table-responsive">
              <table class="table table-striped fs-12px">
                <thead>
                  <tr>
                    <th scope="col">NIT</th>
                    <th scope="col">Nombres de la entidad</th>
                    <th scope="col">Convenio</th>
                    <th scope="col">Fecha creación</th>
                    <th scope="col">Servicios Asociados</th>
                    <th scope="col" colspan="2">Acciones<br/>
                      <label class="acciones" id="accionEditar">Editar</label>
                      <label class="acciones">Activo</label>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let empresa of empresas; let index = index">
                    <td>{{ empresa.nit }}</td>
                    <td>{{ empresa.nombre }}</td>
                    <td>Convenio</td>
                    <td> 15 / 02 / 2023</td>
                    <td></td>
                    <td></td>
                    <td>
                      <img src="./assets/img/editar.svg" alt="" (click)="abrirModalActualizarEmpresa(empresa)">
                    </td>
                    <td>
                      <label class="switch">
                        <!-- [checked]="empresa.estado" (change)="this.cambiarEstadoEmpresa(index)" -->
                        <input type="checkbox" [checked]="empresa.estado" (change)="cambiarEstadoEmpresa(empresa)">
                        <span class="slider round"></span>
                      </label>
                    </td>
                  </tr>
                  <tr *ngIf="empresas.length == 0">
                    <td colspan="6">
                      <label class="d-flex justify-content-center fs-14px">
                        Aun no hay empresas registradas
                      </label>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer d-flex justify-content-end ">
            <ngb-pagination class="mt-3" [collectionSize]="paginacion.totalRegistros" >
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>

  <app-modal-crear-empresa #modalCrearEmpresa (empresaCreada)="this.obtenerEmpresas(1, 100)"></app-modal-crear-empresa>
  <app-modal-actualizar-empresa #modalActualizarEmpresa (empresaActualizada)="this.obtenerEmpresas(1, 100)"></app-modal-actualizar-empresa>